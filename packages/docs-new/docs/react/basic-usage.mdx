---
title: Basic Usage
description: Learn how to use React hooks and components for Google reCAPTCHA
---

# Basic Usage

Learn how to integrate Google reCAPTCHA into your React applications using our hooks and components.

## Setup Provider

First, wrap your application with the `GoogleReCaptchaProvider`:

```jsx
import { GoogleReCaptchaProvider } from '@google-recaptcha/react';

function App() {
  return (
    <GoogleReCaptchaProvider type='v3' siteKey='your-site-key'>
      <YourAppContent />
    </GoogleReCaptchaProvider>
  );
}
```

## V3 Implementation

reCAPTCHA v3 runs in the background and provides a score based on user interactions:

```jsx
import { useGoogleReCaptcha } from '@google-recaptcha/react';

function ContactForm() {
  const { executeRecaptcha } = useGoogleReCaptcha();

  const handleSubmit = async (event) => {
    event.preventDefault();

    if (!executeRecaptcha) {
      console.log('reCAPTCHA not loaded');
      return;
    }

    try {
      const token = await executeRecaptcha('contact_form');
      console.log('reCAPTCHA token:', token);

      // Send form data with token to your server
      await submitForm({ ...formData, recaptchaToken: token });
    } catch (error) {
      console.error('reCAPTCHA error:', error);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* Your form fields */}
      <button type='submit'>Submit</button>
    </form>
  );
}
```

### Provider Configuration for V3

```jsx
<GoogleReCaptchaProvider
  type='v3'
  siteKey='your-v3-site-key'
  language='en'
  explicit={{
    badge: 'bottomright',
    container: 'recaptcha-container'
  }}
>
  <App />
</GoogleReCaptchaProvider>
```

## V2 Invisible Implementation

reCAPTCHA v2 invisible runs challenges only when suspicious activity is detected:

```jsx
import { useGoogleReCaptcha } from '@google-recaptcha/react';

function LoginForm() {
  const { executeRecaptcha } = useGoogleReCaptcha();

  const handleLogin = async () => {
    if (!executeRecaptcha) return;

    try {
      const token = await executeRecaptcha();
      // Process login with token
      await authenticateUser({ ...credentials, recaptchaToken: token });
    } catch (error) {
      console.error('Login failed:', error);
    }
  };

  return <button onClick={handleLogin}>Login</button>;
}
```

### Provider Configuration for V2 Invisible

```jsx
<GoogleReCaptchaProvider
  type='v2-invisible'
  siteKey='your-v2-invisible-site-key'
  explicit={{
    badge: 'hidden',
    callback: (token) => console.log('Token received:', token),
    errorCallback: () => console.log('reCAPTCHA error'),
    expiredCallback: () => console.log('reCAPTCHA expired')
  }}
>
  <App />
</GoogleReCaptchaProvider>
```

## V2 Checkbox Implementation

reCAPTCHA v2 checkbox shows the familiar "I'm not a robot" challenge:

### Using the Checkbox Component

```jsx
import { GoogleReCaptchaCheckbox } from '@google-recaptcha/react';

function RegistrationForm() {
  const [recaptchaToken, setRecaptchaToken] = useState(null);
  const [isValid, setIsValid] = useState(false);

  const handleRecaptchaChange = (token) => {
    setRecaptchaToken(token);
    setIsValid(!!token);
  };

  const handleSubmit = async (event) => {
    event.preventDefault();

    if (!isValid) {
      alert('Please complete the reCAPTCHA');
      return;
    }

    // Submit form with token
    await registerUser({ ...formData, recaptchaToken });
  };

  return (
    <form onSubmit={handleSubmit}>
      {/* Form fields */}

      <GoogleReCaptchaCheckbox onChange={handleRecaptchaChange} theme='light' size='normal' />

      <button type='submit' disabled={!isValid}>
        Register
      </button>
    </form>
  );
}
```

### Provider Configuration for V2 Checkbox

```jsx
<GoogleReCaptchaProvider type='v2-checkbox' siteKey='your-v2-checkbox-site-key' language='en'>
  <App />
</GoogleReCaptchaProvider>
```

### Using the Checkbox Hook

```jsx
import { useGoogleReCaptchaCheckbox } from '@google-recaptcha/react';

function CustomCheckbox() {
  const { ref, isLoading, isVerified, token, error } = useGoogleReCaptchaCheckbox({
    onChange: (token) => console.log('Token:', token),
    onError: () => console.log('Error occurred'),
    onExpired: () => console.log('Verification expired')
  });

  return (
    <div>
      <div ref={ref} />
      {isLoading && <p>Loading reCAPTCHA...</p>}
      {error && <p>Error: {error.message}</p>}
      {isVerified && <p>âœ… Verified!</p>}
    </div>
  );
}
```

## Enterprise Mode

Enable enterprise features by setting the `isEnterprise` prop:

```jsx
<GoogleReCaptchaProvider type='v3' siteKey='your-enterprise-site-key' isEnterprise={true}>
  <App />
</GoogleReCaptchaProvider>
```

### Enterprise with Custom Actions

```jsx
function EnterpriseForm() {
  const { executeRecaptcha } = useGoogleReCaptcha();

  const handlePurchase = async () => {
    const token = await executeRecaptcha('purchase');
    // Process enterprise token
  };

  const handleLogin = async () => {
    const token = await executeRecaptcha('login');
    // Process enterprise token
  };

  return (
    <div>
      <button onClick={handleLogin}>Login</button>
      <button onClick={handlePurchase}>Purchase</button>
    </div>
  );
}
```

## Error Handling

Handle reCAPTCHA errors gracefully:

```jsx
function FormWithErrorHandling() {
  const { executeRecaptcha } = useGoogleReCaptcha();
  const [error, setError] = useState(null);

  const handleSubmit = async () => {
    setError(null);

    if (!executeRecaptcha) {
      setError('reCAPTCHA not available');
      return;
    }

    try {
      const token = await executeRecaptcha('form_submit');
      await submitForm(token);
    } catch (err) {
      setError('reCAPTCHA verification failed');
      console.error('reCAPTCHA error:', err);
    }
  };

  return (
    <div>
      {error && <div className='error'>{error}</div>}
      <button onClick={handleSubmit}>Submit</button>
    </div>
  );
}
```

## Next.js Integration

For Next.js applications, ensure the provider is properly configured:

```jsx
// pages/_app.js
import { GoogleReCaptchaProvider } from '@google-recaptcha/react';

function MyApp({ Component, pageProps }) {
  return (
    <GoogleReCaptchaProvider type='v3' siteKey={process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY}>
      <Component {...pageProps} />
    </GoogleReCaptchaProvider>
  );
}

export default MyApp;
```

## Best Practices

1. **Load Early**: Place the provider as high as possible in your component tree
2. **Error Handling**: Always check if `executeRecaptcha` is available before calling
3. **Token Validation**: Always validate tokens on your server
4. **User Experience**: Provide loading states and error messages
5. **Performance**: Use React's `Suspense` for better loading experiences

## Next Steps

- Learn about [advanced configurations](/docs/guides) for different reCAPTCHA versions
- Explore the [API reference](/docs/reference/react) for detailed prop documentation
- Check out [common patterns](/docs/guides/common-patterns) for real-world usage

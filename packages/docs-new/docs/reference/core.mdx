---
title: Core API Reference
description: Complete API reference for @google-recaptcha/core
---

# Core API Reference

Complete API reference for the `@google-recaptcha/core` package, including utility functions and types.

## Functions

### generateGoogleReCaptchaScriptSrc

Generates the script source URL for loading Google reCAPTCHA.

```typescript
function generateGoogleReCaptchaScriptSrc(options: ScriptSrcOptions): string;
```

#### Parameters

```typescript
interface ScriptSrcOptions {
  isEnterprise: boolean;
  render: string;
  hl?: string;
  host?: 'google.com' | 'recaptcha.net';
  badge?: 'inline' | 'bottomleft' | 'bottomright';
}
```

| Parameter      | Type                                        | Required | Description                           |
| -------------- | ------------------------------------------- | -------- | ------------------------------------- |
| `isEnterprise` | `boolean`                                   | ✅       | Whether to use reCAPTCHA Enterprise   |
| `render`       | `string`                                    | ✅       | Your reCAPTCHA site key or 'explicit' |
| `hl`           | `string`                                    | ❌       | Language code (e.g., 'en', 'ru')      |
| `host`         | `'google.com' \| 'recaptcha.net'`           | ❌       | Host to load from                     |
| `badge`        | `'inline' \| 'bottomleft' \| 'bottomright'` | ❌       | Badge position                        |

#### Returns

`string` - The complete script URL

#### Example

```typescript
import { generateGoogleReCaptchaScriptSrc } from '@google-recaptcha/core';

// Basic usage
const scriptSrc = generateGoogleReCaptchaScriptSrc({
  isEnterprise: false,
  render: 'your-site-key'
});
// Returns: "https://www.google.com/recaptcha/api.js?render=your-site-key"

// With options
const scriptSrc = generateGoogleReCaptchaScriptSrc({
  isEnterprise: true,
  render: 'your-enterprise-key',
  hl: 'en',
  host: 'recaptcha.net',
  badge: 'bottomleft'
});
// Returns: "https://recaptcha.net/recaptcha/enterprise.js?render=your-enterprise-key&hl=en&badge=bottomleft"
```

### generateGoogleReCaptchaHiddenBadgeStyles

Generates CSS styles to hide the reCAPTCHA badge.

```typescript
function generateGoogleReCaptchaHiddenBadgeStyles(): string;
```

#### Returns

`string` - CSS rules to hide the reCAPTCHA badge

#### Example

```typescript
import { generateGoogleReCaptchaHiddenBadgeStyles } from '@google-recaptcha/core';

const hiddenStyles = generateGoogleReCaptchaHiddenBadgeStyles();
// Returns: ".grecaptcha-badge { visibility: hidden !important; }"

// Apply styles
const style = document.createElement('style');
style.textContent = hiddenStyles;
document.head.appendChild(style);
```

<Callout type='warning'>
  When hiding the reCAPTCHA badge, you must include the reCAPTCHA terms in your privacy policy as
  required by Google's terms of service.
</Callout>

## Types

### ScriptSrcOptions

Configuration options for generating reCAPTCHA script source.

```typescript
interface ScriptSrcOptions {
  isEnterprise: boolean;
  render: string;
  hl?: string;
  host?: 'google.com' | 'recaptcha.net';
  badge?: 'inline' | 'bottomleft' | 'bottomright';
}
```

### ReCaptchaLanguage

Supported language codes for reCAPTCHA interface.

```typescript
type ReCaptchaLanguage =
  | 'en'
  | 'ar'
  | 'af'
  | 'am'
  | 'hy'
  | 'az'
  | 'eu'
  | 'bn'
  | 'bg'
  | 'ca'
  | 'zh-CN'
  | 'zh-TW'
  | 'hr'
  | 'cs'
  | 'da'
  | 'nl'
  | 'et'
  | 'fil'
  | 'fi'
  | 'fr'
  | 'gl'
  | 'ka'
  | 'de'
  | 'el'
  | 'gu'
  | 'iw'
  | 'hi'
  | 'hu'
  | 'is'
  | 'id'
  | 'it'
  | 'ja'
  | 'kn'
  | 'ko'
  | 'lo'
  | 'lv'
  | 'lt'
  | 'ms'
  | 'ml'
  | 'mr'
  | 'mn'
  | 'my'
  | 'no'
  | 'fa'
  | 'pl'
  | 'pt'
  | 'pt-BR'
  | 'ro'
  | 'ru'
  | 'sr'
  | 'si'
  | 'sk'
  | 'sl'
  | 'es'
  | 'sw'
  | 'sv'
  | 'ta'
  | 'te'
  | 'th'
  | 'tr'
  | 'uk'
  | 'ur'
  | 'vi'
  | 'zu';
```

### ReCaptchaBadgePosition

Position options for the reCAPTCHA badge.

```typescript
type ReCaptchaBadgePosition = 'bottomright' | 'bottomleft' | 'inline' | 'hidden';
```

### ReCaptchaHost

Available hosts for loading reCAPTCHA scripts.

```typescript
type ReCaptchaHost = 'google.com' | 'recaptcha.net';
```

## Constants

### DEFAULT_HOST

```typescript
const DEFAULT_HOST: ReCaptchaHost = 'google.com';
```

### RECAPTCHA_SCRIPT_URLS

```typescript
const RECAPTCHA_SCRIPT_URLS = {
  STANDARD: 'https://www.google.com/recaptcha/api.js',
  ENTERPRISE: 'https://www.google.com/recaptcha/enterprise.js',
  RECAPTCHA_NET_STANDARD: 'https://recaptcha.net/recaptcha/api.js',
  RECAPTCHA_NET_ENTERPRISE: 'https://recaptcha.net/recaptcha/enterprise.js'
} as const;
```

### HIDDEN_BADGE_STYLES

```typescript
const HIDDEN_BADGE_STYLES = '.grecaptcha-badge { visibility: hidden !important; }';
```

## Error Types

### ReCaptchaError

```typescript
interface ReCaptchaError extends Error {
  code?: string;
  details?: any;
}
```

### Common Error Codes

```typescript
const RECAPTCHA_ERROR_CODES = {
  INVALID_SITE_KEY: 'invalid-site-key',
  MISSING_INPUT_SECRET: 'missing-input-secret',
  INVALID_INPUT_SECRET: 'invalid-input-secret',
  MISSING_INPUT_RESPONSE: 'missing-input-response',
  INVALID_INPUT_RESPONSE: 'invalid-input-response',
  BAD_REQUEST: 'bad-request',
  TIMEOUT_OR_DUPLICATE: 'timeout-or-duplicate'
} as const;
```

## Usage Examples

### Loading reCAPTCHA Script

```typescript
import { generateGoogleReCaptchaScriptSrc } from '@google-recaptcha/core';

// Create and load script
function loadReCaptcha(siteKey: string) {
  const scriptSrc = generateGoogleReCaptchaScriptSrc({
    isEnterprise: false,
    render: siteKey
  });

  const script = document.createElement('script');
  script.src = scriptSrc;
  script.async = true;
  script.defer = true;

  return new Promise<void>((resolve, reject) => {
    script.onload = () => resolve();
    script.onerror = () => reject(new Error('Failed to load reCAPTCHA script'));
    document.head.appendChild(script);
  });
}

// Usage
try {
  await loadReCaptcha('your-site-key');
  console.log('reCAPTCHA loaded successfully');
} catch (error) {
  console.error('Failed to load reCAPTCHA:', error);
}
```

### Server-side Script Generation

```typescript
import { generateGoogleReCaptchaScriptSrc } from '@google-recaptcha/core';

// Generate script URL for SSR
function getServerSideScriptUrl(siteKey: string, language?: string) {
  return generateGoogleReCaptchaScriptSrc({
    isEnterprise: false,
    render: siteKey,
    hl: language || 'en',
    host: 'google.com'
  });
}

// In your HTML template
const scriptUrl = getServerSideScriptUrl('your-site-key', 'en');
// <script src="{scriptUrl}" async defer></script>
```

### Custom Badge Positioning

```typescript
import {
  generateGoogleReCaptchaScriptSrc,
  generateGoogleReCaptchaHiddenBadgeStyles
} from '@google-recaptcha/core';

// Hide badge and show custom terms
function setupCustomBadge(siteKey: string) {
  // Load script with hidden badge
  const scriptSrc = generateGoogleReCaptchaScriptSrc({
    isEnterprise: false,
    render: siteKey,
    badge: 'hidden'
  });

  // Apply hidden styles
  const hiddenStyles = generateGoogleReCaptchaHiddenBadgeStyles();
  const style = document.createElement('style');
  style.textContent = hiddenStyles;
  document.head.appendChild(style);

  // Add custom terms notice
  const termsNotice = document.createElement('div');
  termsNotice.innerHTML = `
    This site is protected by reCAPTCHA and the Google 
    <a href="https://policies.google.com/privacy">Privacy Policy</a> and 
    <a href="https://policies.google.com/terms">Terms of Service</a> apply.
  `;
  document.body.appendChild(termsNotice);
}
```

## Browser Compatibility

### Minimum Requirements

- **ES2015+** support required
- **Promise** support (native or polyfilled)
- **fetch** API (for server verification examples)

### TypeScript Support

- **TypeScript 4.5+** for full type inference
- All functions and types are fully typed
- Generic type support for configuration options

## Integration with Frameworks

The core package serves as the foundation for framework-specific implementations:

### React Integration

```typescript
// Used internally by @google-recaptcha/react
import { generateGoogleReCaptchaScriptSrc } from '@google-recaptcha/core';

const scriptSrc = generateGoogleReCaptchaScriptSrc({
  isEnterprise: false,
  render: siteKey
});
// Load script in React component
```

### Vue Integration

```typescript
// Used internally by @google-recaptcha/vue
import { generateGoogleReCaptchaScriptSrc } from '@google-recaptcha/core';

const scriptSrc = generateGoogleReCaptchaScriptSrc({
  isEnterprise: false,
  render: siteKey
});
// Load script in Vue component
```

## Next Steps

- [View basic usage examples](/docs/basic-usage)
- [Learn about React integration](/docs/react)
- [Explore implementation guides](/docs/guides)
